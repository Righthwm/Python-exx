gcloud sql connect instancegcp --user=root
CREATE DATABASE querries_ex;
USE querries_ex;
CREATE TABLE cities (id INT NOT NULL AUTO_INCREMENT, name VARCHAR(255), population FLOAT, safety_rating INT, PRIMARY KEY(id));
CREATE TABLE properties (id INT NOT NULL AUTO_INCREMENT, name VARCHAR(255), price FLOAT, city_fk VARCHAR(255) REFERENCES cities(name), PRIMARY KEY(id));
INSERT INTO cities (name, population, safety_rating) values ('New York', 8876, 50);
INSERT INTO cities (name, population, safety_rating) values ('Blaj', 12, 10);
INSERT INTO cities (name, population, safety_rating) values ('Jucu', 6, 20);
INSERT INTO cities (name, population, safety_rating) values ('Apahida', 3, 15);
INSERT INTO cities (name, population, safety_rating) values ('Constanta', 56, 30);
INSERT INTO cities (name, population, safety_rating) values ('Timisoara', 150, 55);
INSERT INTO cities (name, population, safety_rating) values ('Iasi', 560, 80);
INSERT INTO cities (name, population, safety_rating) values ('Ploiesti', 70, 66);
INSERT INTO cities (name, population, safety_rating) values ('Barcelona', 2000, 95);
INSERT INTO cities (name, population, safety_rating) values ('Madrid', 5600, 70);
INSERT INTO properties (name, price, city_fk) values ('Cladire 1.1', 500, 'New York');
INSERT INTO properties (name, price, city_fk) values ('Cladire 1.2', 700, 'New York');
INSERT INTO properties (name, price, city_fk) values ('Cladire 1.3', 600, 'New York');
INSERT INTO properties (name, price, city_fk) values ('Cladire 1.4', 400, 'New York');
INSERT INTO properties (name, price, city_fk) values ('Cladire 2.1', 400, 'Blaj');
INSERT INTO properties (name, price, city_fk) values ('Cladire 2.2', 230, 'Blaj');
INSERT INTO properties (name, price, city_fk) values ('Cladire 2.3', 100, 'Blaj');
INSERT INTO properties (name, price, city_fk) values ('Cladire 3.1', 400, 'Jucu');
INSERT INTO properties (name, price, city_fk) values ('Cl1', 12, 'Apahida');
INSERT INTO properties (name, price, city_fk) values ('Cl2', 23, 'Apahida');
INSERT INTO properties (name, price, city_fk) values ('Cl3', 43, 'Apahida');
INSERT INTO properties (name, price, city_fk) values ('Bl1', 300, 'Constanta');
INSERT INTO properties (name, price, city_fk) values ('Bl2', 250, 'Constanta');
INSERT INTO properties (name, price, city_fk) values ('Bl3', 500, 'Constanta');
INSERT INTO properties (name, price, city_fk) values ('CCL1', 247.55, 'Timisoara');
INSERT INTO properties (name, price, city_fk) values ('CCL2', 144.5, 'Timisoara');
INSERT INTO properties (name, price, city_fk) values ('Casuta1', 156.22, 'Ploiesti');
INSERT INTO properties (name, price, city_fk) values ('Casuta2', 134, 'Ploiesti');
INSERT INTO properties (name, price, city_fk) values ('ST1', 154, 'Madrid');
INSERT INTO properties (name, price, city_fk) values ('ST3', 332, 'Madrid');
INSERT INTO properties (name, price, city_fk) values ('ST2', 598, 'Madrid');
INSERT INTO properties (name, price, city_fk) values ('Casa1', 900, 'Barcelona');
INSERT INTO properties (name, price, city_fk) values ('Casa2', 800, 'Barcelona');
INSERT INTO properties (name, price, city_fk) values ('Casa3', 1000, 'Barcelona');
INSERT INTO properties (name, price, city_fk) values ('Casa4', 1200, 'Barcelona');
INSERT INTO properties (name, price, city_fk) values ('Ccc1', 342, 'Iasi');
INSERT INTO properties (name, price, city_fk) values ('Ccc2', 765, 'Iasi');
SELECT name FROM properties WHERE city_fk='New York';
SELECT name FROM properties ORDER BY price desc LIMIT 3;
SELECT name FROM properties ORDER BY price LIMIT 5;
SELECT city_fk, count(name) FROM properties GROUP BY city_fk;